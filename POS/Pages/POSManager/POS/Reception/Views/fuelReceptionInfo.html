<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
        </div>
    </div><!-- /.container-fluid -->
</section>

<section class="content ff">
    <div class="container-fluid">

        <div class="col-12">
            <div class="card-header" style="border-bottom: none;">
                <a ui-sref="pos.reception" class="nav-link back-btn" style=" color: #000;cursor: pointer;padding:0; cursor: pointer;">
                    < {{'back' | translate}}
                </a>
                <h3 class="receiptInfo-title">{{'Reception' | translate}}</h3>
                <!--<h6 class="receiptInfo-subTitle">Receipts ID - Way of Payment - Employee - Amount</h6>-->
            </div>
        </div>


        <div class="card modal-body" style="margin: 1.7em;">
            <div class="row" style="padding: 1em;">
                <table class="table  text-nowrap transfer-popup-table reception-table-info">
                    <thead>
                        <tr>
                            <th>{{'ReceptionID' | translate}}</th>
                            <th>{{'SentBy' | translate}}</th>
                            <th>{{'creationDate' | translate}}</th>
                            <th>{{'creationTime' | translate}}</th>
                            <th>{{'SupplierName' | translate}}</th>
                            <th class="reception-do-item-status" ng-class="item.statusStyle" style="color: #ffc720; width: 1em;">{{reception.status}}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{{reception.id}}</td>
                            <td>{{reception.do_creator}}</td>
                            <td>{{reception.creationDate}}</td>
                            <td>{{reception.deliveryDate}}</td>
                            <td>{{reception.supplierName}}</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <span style="height: 1px; background: #ede6e6;"></span>

            <div>
                <label style=" width: 100%; margin-bottom: 0.1em; padding: 1em 1em 0em 1em;">{{'DriverTruckData' | translate}}</label>
                <div class="row" style="padding: 1em;">
                    <div class="col-md-6">
                        <table class="table  text-nowrap transfer-popup-table reception-table-info">
                            <thead>
                                <tr>
                                    <th>{{'DriverName' | translate}}</th>
                                    <th>{{'PlateNumber' | translate}}</th>
                                    <th>{{'TransportParty' | translate}}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>{{reception.driverName}}</td>
                                    <td>{{reception.plateNumber}}</td>
                                    <td>{{reception.transportPartyNumber}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table  text-nowrap transfer-popup-table reception-table-info" style="margin-top:3em;">
                            <thead>
                                <tr>
                                    <th ng-repeat="item in reception.files"><img src="data:image/png;base64,{{item.base64encoded}}" style=" width: 75px;" /></th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <label style="padding-left: 0.8em; font-family: 'rubikRegular'; font-size: 14px; color: #6F6F6F; font-weight: 100; ">NONCONFORMITY</label>
                        <table class="table  text-nowrap transfer-popup-table reception-table-info">
                            <thead>
                                <tr>
                                    <th>{{'NonconformityReason' | translate}}</th>
                                    <th>{{'Description' | translate}}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="(reason, desc) in reception.nonConf_Description">
                                    <td style="font-size: 12px;">{{$index+1}}. {{reason}}</td>
                                    <td style="font-size: 12px;">{{desc}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <!--<table class="table  text-nowrap transfer-popup-table reception-table-info">
                            <thead>
                                <tr>
                                    <th>Sub-tank ID on Valve : </th>
                                    <th>Seal on Valve : </th>
                                    <th>Seal on Sub-tank : </th>
                                </tr>
                            </thead>
                        </table>-->
                    </div>

                </div>

            </div>

            <span style="height: 1px; background: #ede6e6;"></span>


            <div class="row" style="padding: 1em;">
                <label>{{'doInfo' | translate}}</label>
                <table class="table  text-nowrap transfer-popup-table" ng-repeat="item in reception.receivedSubTanks">
                    <thead>
                        <tr>
                            <th class="th-rect"><span class="transfer-half-rectangle"></span></th>
                            <th class="th-text">{{'Type' | translate}}</th>
                            <th class="th-text">{{'Subtank' | translate}}</th>
                            <th class="th-text">{{'quantitySent' | translate}}</th>
                            <th class="th-text">{{'SubtankIDValve' | translate}}</th>
                            <th class="th-text">{{'SealSubtank' | translate}}</th>
                            <th class="th-text">{{'SealValve' | translate}}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="transfer-half-rectangle2"></span></td>
                            <td>{{item.wetProductType}}</td>
                            <td>{{item.subTankNumber}}</td>
                            <td>{{item.volume}} L</td>
                            <td>{{item.subTankID_on_valve}}</td>
                            <td>{{item.seal_on_subTank_cover}}</td>
                            <td>{{item.seal_on_valve}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <span style="height: 1px; background: #ede6e6;"></span>

            <div class="row" style="padding: 1em;">
                <label>{{'ReceptionInformation' | translate}}</label>
                <table class="table  text-nowrap transfer-popup-table" ng-repeat="item in reception.receivedSubTanks">
                    <thead>
                        <tr>
                            <th class="th-rect"><span class="transfer-half-rectangle"></span></th>
                            <th class="th-text">{{'Type' | translate}}</th>
                            <th class="th-text">{{'Subtank' | translate}}</th>
                            <th class="th-text">{{'Amount' | translate}}</th>
                            <th class="th-text">
                                <div style=" background: #f3efef; width: 26em; height: 5em;">
                                    <span class="missing-title">{{'MissingQuantity' | translate}}</span> - <span class="missing-title">  {{item.isPayed}}</span>
                                    <table class="table  text-nowrap transfer-popup-table reception-do-info-table" style="margin-top: 0.4em;">
                                        <thead>
                                            <tr>
                                                <th class="th-text">{{'MissingQuantity' | translate}}</th>
                                                <th class="th-text">{{'Subtank' | translate}}</th>
                                                <th class="th-text">{{'TransactionID' | translate}}</th>
                                                <th class="th-text">{{'AddedQuantity' | translate}}</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>{{item.tank.actualVolAfterReception - item.tank.estVolAfterReception}}</td>
                                                <td>Subtank {{item.subTankNumber}}</td>
                                                <td>{{item.ncFillingTransactionId}}</td>
                                                <td>{{item.tank.volumeSoldDuringReception}} L</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="transfer-half-rectangle2"></span></td>
                            <td>{{item.wetProductType}}</td>
                            <td>{{item.subTankNumber}}</td>
                            <td>{{item.volume}} L</td>
                            <td class="th-text">
                                <div style=" background: #f3efef; width: 26em; height: 5em; margin-top: 1em;">
                                    <span class="reception-info-title">{{'ReceptionInformation' | translate}}</span>
                                    <table class="table  text-nowrap transfer-popup-table reception-do-info-table">
                                        <thead>
                                            <tr>
                                                <th class="th-text">{{'ReceptionAmount' | translate}}</th>
                                                <th class="th-text">{{'Tank' | translate}}</th>
                                                <th class="th-text">{{'StationManager' | translate}}</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>{{item.volume}} L</td>
                                                <td>{{item.tank.tankId}}</td>
                                                <td></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-primary" ng-click="createReception()">{{'Confirm' | translate}}</button>
            </div>
        </div>

    </div>
</section>